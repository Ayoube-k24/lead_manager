Improve LeadConfirmationService email sending with password validation and enhanced logging

